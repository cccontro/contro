{#-
  Include an hidden page in the nav while visiting it.
-#}
{% extends "main.html" %}

{% block site_nav %}
  <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
    <div class="md-sidebar__scrollwrap">
      <div class="md-sidebar__inner">
        {% import "partials/nav-item.html" as item with context %}
        {% set class = "md-nav md-nav--primary" %}
        {% if "navigation.tabs" in features %}
          {% set class = class ~ " md-nav--lifted" %}
        {% endif %}
        {% if "toc.integrate" in features %}
          {% set class = class ~ " md-nav--integrated" %}
        {% endif %}
        <nav class="{{ class }}" aria-label="{{ lang.t('nav') }}" data-md-level="0">
          <label class="md-nav__title" for="__drawer">
            <a href="{{ config.extra.homepage | d(nav.homepage.url, true) | url }}">
              {{ config.site_name }}
            </a>
          </label>
          {% if config.repo_url %}
            <div class="md-nav__source">
              {% include "partials/source.html" %}
            </div>
          {% endif %}
          <ul class="md-nav__list" data-md-scrollfix>
            {% for nav_item in nav %}
              {% set path = "__nav_" ~ loop.index %}
              {{ item.render(nav_item, path, 1) }}
            {% endfor %}
            {% set path = "__nav_" ~ (nav | length + 1) %}
            {{ item.render(page, path, 1) }}
          </ul>
        </nav>
      </div>
    </div>
  </div>
{% endblock %}